<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criaturas Musicales</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Criaturas Musicales</h1>
            <div class="header-controls">
                <div class="controls">
                    <button id="helpBtn" class="btn btn-help" aria-label="Ayuda">?</button>
                    <button id="startBtn" class="btn btn-primary">Iniciar</button>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="welcome-screen" id="welcomeScreen">
                <div class="welcome-content">
                    <div class="welcome-creature-wrapper">
                        <canvas id="welcomeCreatureCanvas"></canvas>
                    </div>
                    <div class="welcome-text-wrapper">
                        <h2 class="welcome-title">¬øCu√°nto tiempo podr√°s mantenerla viva?</h2>
                        <p class="welcome-text">
                            Memoriza la secuencia. Repite las notas.<br>
                            Mant√©n viva a tu criatura el mayor tiempo posible.<br>
                            ¬øHasta d√≥nde llegar√°s?
                        </p>
                    </div>
                </div>
            </div>

            <div class="game-over-section">
                <div class="game-over-content">
                    <div class="game-over-text" id="gameOverText">GAME OVER</div>
                    <div class="share-text" id="shareText"></div>
                    <button id="shareBtn" class="btn btn-share" aria-label="Compartir resultado">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="18" cy="5" r="3"></circle>
                            <circle cx="6" cy="12" r="3"></circle>
                            <circle cx="18" cy="19" r="3"></circle>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                        </svg>
                        <span>¬°Comparte tu puntuaci√≥n!</span>
                    </button>
                </div>
            </div>
            
            <div class="content-row hidden" id="contentRow">
                <div class="left-section">
                    <div class="score-section">
                        <div class="score-label">Puntuaci√≥n</div>
                        <div class="score-value" id="timeValue">0.0s</div>
                        <div class="creature-life creature-life-mobile">
                            <div class="life-label">Vida: <span id="lifeValue">100%</span></div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="energyBar"></div>
                            </div>
                        </div>
                    </div>

                    <div class="creature-container" id="creatureStatus">
                        <canvas id="creatureCanvas"></canvas>
                        <div class="creature-status-text" id="statusText">CALMA</div>
                        <div class="creature-life creature-life-desktop">
                            <div class="life-label">Vida: <span id="lifeValueDesktop">100%</span></div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="energyBarDesktop"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="graph-section">
                    <div class="graph-container">
                        <canvas id="frequencyCanvas" width="400" height="400"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p class="footer-text">
            Made with ‚ù§Ô∏è by
            <a href="https://bsky.app/profile/heedrox.bsky.social" target="_blank" rel="noopener noreferrer" class="footer-link">itortv / heedrox</a>
            from Bilbao!
        </p>
        <ul class="footer-social">
            <li>
                <a href="https://twitter.com/itortv" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="Twitter">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://github.com/heedrox" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="GitHub">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path>
                        <path d="M9 18c-4.51 2-5-2-7-2"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://linkedin.com/in/jmarti-heedrox" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="LinkedIn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                        <rect x="2" y="9" width="4" height="12"></rect>
                        <circle cx="4" cy="4" r="2"></circle>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://bsky.app/profile/heedrox.bsky.social" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="Bluesky">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256" stroke="currentColor" ¬°¬°¬°>
                        <g transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                            <path d="M 28.752 84.74 c -4.278 0 -8.909 -2.531 -13.802 -7.552 c -4.529 -4.647 -6.255 -9.564 -4.861 -13.844 c 1.188 -3.649 4.507 -6.611 9.587 -8.66 C 12.174 53.893 4.955 50.149 2.481 41.31 C 1.515 37.855 0 17.743 0 15.236 c 0 -4.735 1.402 -7.837 4.166 -9.218 c 4.562 -2.278 11.52 0.911 16.509 4.657 l -0.601 0.8 l 0.601 -0.8 C 30.209 17.833 40.418 31.863 45 40.447 c 4.583 -8.584 14.792 -22.616 24.325 -29.772 c 4.989 -3.746 11.949 -6.934 16.509 -4.657 C 88.599 7.399 90 10.501 90 15.236 c 0 2.506 -1.515 22.617 -2.481 26.073 c -2.474 8.839 -9.694 12.582 -17.194 13.375 c 5.081 2.049 8.398 5.01 9.588 8.66 c 1.394 4.279 -0.333 9.196 -4.862 13.844 c -5.795 5.946 -11.224 8.401 -16.132 7.293 C 50.955 82.685 46.712 71.931 45 67.04 c -1.712 4.893 -5.952 15.643 -13.916 17.441 C 30.319 84.654 29.542 84.74 28.752 84.74 z M 28.214 52.396 c 0.479 0 0.902 0.345 0.985 0.832 c 0.093 0.545 -0.273 1.062 -0.818 1.153 c -9.06 1.542 -14.881 4.945 -16.392 9.583 c -1.169 3.59 0.35 7.68 4.393 11.828 c 5.279 5.417 10.076 7.685 14.261 6.738 c 7.552 -1.705 11.538 -13.406 12.847 -17.251 c 0.511 -1.499 0.724 -2.094 1.509 -2.037 c 0.801 -0.056 0.999 0.539 1.509 2.037 c 1.312 3.848 5.3 15.547 12.85 17.251 c 4.191 0.951 8.983 -1.322 14.26 -6.738 c 4.042 -4.148 5.562 -8.238 4.392 -11.828 c -1.511 -4.638 -7.331 -8.041 -16.391 -9.583 c -0.544 -0.092 -0.91 -0.608 -0.817 -1.153 c 0.092 -0.544 0.611 -0.91 1.153 -0.817 c 8.97 1.526 20.549 -0.604 23.638 -11.64 C 86.473 37.624 88 17.893 88 15.236 c 0 -3.915 -1.029 -6.415 -3.06 -7.429 c -3.516 -1.752 -9.769 0.98 -14.414 4.467 c -9.967 7.481 -20.705 22.699 -24.625 30.808 c -0.334 0.691 -1.467 0.691 -1.801 0 c -3.92 -8.108 -14.658 -23.326 -24.625 -30.808 C 14.829 8.787 8.569 6.051 5.06 7.808 C 3.029 8.822 2 11.321 2 15.236 c 0 2.657 1.527 22.389 2.407 25.534 c 3.087 11.03 14.657 13.163 23.631 11.641 c 0.003 -0.002 0.006 -0.001 0.007 -0.001 C 28.103 52.4 28.159 52.396 28.214 52.396 z" fill="currentColor" fill-rule="nonzero" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                    </svg>
                </a>
            </li>
        </ul>
    </footer>

    <!-- Modal de ayuda -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>¬øC√≥mo se juega?</h2>
                <button class="modal-close" aria-label="Cerrar">&times;</button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h3>üéµ Objetivo</h3>
                    <p>Tu objetivo es mantener viva a tu criatura musical el mayor tiempo posible cantando o tocando las notas correctas.</p>
                </div>
                
                <div class="help-section">
                    <h3>üéØ C√≥mo jugar</h3>
                    <ol>
                        <li><strong>Escucha la secuencia:</strong> Primero escuchar√°s una secuencia de 5 notas que debes memorizar.</li>
                        <li><strong>Prep√°rate:</strong> Despu√©s de escuchar, tendr√°s 3 segundos para prepararte.</li>
                        <li><strong>Repite la secuencia:</strong> Cuando empiece el juego, canta o toca las notas en el mismo orden que las escuchaste.</li>
                        <li><strong>Mant√©n la calma:</strong> Intenta mantenerte lo m√°s cerca posible de cada nota objetivo para mantener a tu criatura en estado de <strong>CALMA</strong>.</li>
                    </ol>
                </div>
                
                <div class="help-section">
                    <h3>üíö Estados de la criatura</h3>
                    <ul>
                        <li><strong>CALMA (verde):</strong> Est√°s tocando la nota correcta. La vida se mantiene estable.</li>
                        <li><strong>TENSI√ìN (amarillo):</strong> Te est√°s desviando de la nota. La vida disminuye lentamente.</li>
                        <li><strong>CAOS (rojo):</strong> Est√°s muy lejos de la nota o en silencio. La vida disminuye r√°pidamente.</li>
                    </ul>
                </div>
                
                <div class="help-section">
                    <h3>üìä Puntuaci√≥n</h3>
                    <p>Tu puntuaci√≥n es el tiempo que logras mantener viva a tu criatura. ¬°Intenta superar tu mejor marca!</p>
                </div>
                
                <div class="help-section">
                    <h3>üí° Consejos</h3>
                    <ul>
                        <li>Presta atenci√≥n a la visualizaci√≥n del gr√°fico: las l√≠neas verdes muestran las notas objetivo.</li>
                        <li>La criatura reacciona visualmente a tu precisi√≥n.</li>
                        <li>Practica para mejorar tu afinaci√≥n y memoria musical.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>

